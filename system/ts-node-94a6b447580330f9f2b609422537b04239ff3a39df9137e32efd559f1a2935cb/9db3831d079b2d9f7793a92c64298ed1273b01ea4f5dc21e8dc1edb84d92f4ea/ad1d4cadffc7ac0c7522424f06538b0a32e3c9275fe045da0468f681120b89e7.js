"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var HOST = process.env.HOST;
var PingLogic = (function () {
    function PingLogic() {
    }
    PingLogic.prototype.getPing = function (req, reply) {
        req.seneca
            .client({
            type: 'mqlight',
            host: HOST
        })
            .act({
            role: 'ping',
            cmd: 'date',
            format: req.params.format
        }, function (err, out) {
            return reply(err || out);
        });
    };
    return PingLogic;
}());
exports.PingLogic = PingLogic;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL2FwaS1nYXRld2F5L2xvZ2ljL3BpbmcvcGluZy5sb2dpYy50cyIsInNvdXJjZXMiOlsiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL2FwaS1nYXRld2F5L2xvZ2ljL3BpbmcvcGluZy5sb2dpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBRTlCO0lBQ0k7SUFBZ0IsQ0FBQztJQUVqQiwyQkFBTyxHQUFQLFVBQVEsR0FBZ0IsRUFBRSxLQUEyQjtRQUVqRCxHQUFHLENBQUMsTUFBTTthQUNMLE1BQU0sQ0FBQztZQUNKLElBQUksRUFBRSxTQUFTO1lBQ2YsSUFBSSxFQUFFLElBQUk7U0FDYixDQUFDO2FBQ0QsR0FBRyxDQUNKO1lBQ0ksSUFBSSxFQUFFLE1BQU07WUFDWixHQUFHLEVBQUUsTUFBTTtZQUNYLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU07U0FDNUIsRUFDRCxVQUFDLEdBQVEsRUFBRSxHQUFRO1lBQ2YsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7SUFDVixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQUFDLEFBcEJELElBb0JDO0FBcEJZLDhCQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSGFwaSBmcm9tICdoYXBpJztcbmltcG9ydCB7IEhhcGlSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vc2V2ZXItdHlwZXMnO1xuXG5jb25zdCBIT1NUID0gcHJvY2Vzcy5lbnYuSE9TVDtcblxuZXhwb3J0IGNsYXNzIFBpbmdMb2dpYyB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIGdldFBpbmcocmVxOiBIYXBpUmVxdWVzdCwgcmVwbHk6IEhhcGkuUmVwbHlOb0NvbnRpbnVlKSB7XG5cbiAgICAgICAgcmVxLnNlbmVjYVxuICAgICAgICAgICAgLmNsaWVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21xbGlnaHQnLFxuICAgICAgICAgICAgICAgIGhvc3Q6IEhPU1RcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWN0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJvbGU6ICdwaW5nJyxcbiAgICAgICAgICAgICAgICBjbWQ6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHJlcS5wYXJhbXMuZm9ybWF0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycjogYW55LCBvdXQ6IGFueSk6IGFueSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGx5KGVyciB8fCBvdXQpXG4gICAgICAgICAgICB9KVxuICAgIH1cbn1cbiJdfQ==