"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Seneca = require("seneca");
var ping_logic_1 = require("./logic/ping.logic");
var HOST = process.env.HOST;
var BASES = process.env.BASES;
// const BROADCAST = process.env.BROADCAST
var REGISTRY = process.env.REGISTRY;
var ping = new ping_logic_1.PingLogic;
Seneca({
    logger: require('seneca-demo-logger'),
    debug: { short_logs: true }
})
    .use(ping.getPing)
    .use('mqlight-transport', {})
    .use('mesh', {
    auto: true,
    host: HOST,
    pin: 'role:ping,cmd:date',
    bases: [BASES + ":39999"]
})
    .listen({
    type: 'mqlight',
    host: HOST
})
    .ready(function () {
    console.log("Ping service ready!!! IP: " + HOST);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL3Bpbmctc2VydmljZS9zZXJ2aWNlLnRzIiwic291cmNlcyI6WyIvaG9tZS9tYXN0ZXIvRG9jdW1lbnRzL0hhcGkvaGFwaS1zZW5lY2EtdHMvcGluZy1zZXJ2aWNlL3NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBaUM7QUFDakMsaURBQStDO0FBRS9DLElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQzlCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO0FBQ2hDLDBDQUEwQztBQUMxQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQTtBQUVyQyxJQUFNLElBQUksR0FBRyxJQUFJLHNCQUFTLENBQUE7QUFHMUIsTUFBTSxDQUFDO0lBQ0wsTUFBTSxFQUFFLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztJQUNyQyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFO0NBQzVCLENBQ0E7S0FFRSxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztLQUNqQixHQUFHLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxDQUFDO0tBQzVCLEdBQUcsQ0FBQyxNQUFNLEVBQUU7SUFDWCxJQUFJLEVBQUUsSUFBSTtJQUNWLElBQUksRUFBRSxJQUFJO0lBQ1YsR0FBRyxFQUFFLG9CQUFvQjtJQUN6QixLQUFLLEVBQUUsQ0FBSSxLQUFLLFdBQVEsQ0FBQztDQUMxQixDQUFDO0tBQ0QsTUFBTSxDQUFDO0lBQ04sSUFBSSxFQUFFLFNBQVM7SUFDZixJQUFJLEVBQUUsSUFBSTtDQUNYLENBQUM7S0FDRCxLQUFLLENBQUM7SUFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUE2QixJQUFNLENBQUMsQ0FBQTtBQUNsRCxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFNlbmVjYSBmcm9tICdzZW5lY2EnO1xuaW1wb3J0IHsgUGluZ0xvZ2ljIH0gZnJvbSAnLi9sb2dpYy9waW5nLmxvZ2ljJztcblxuY29uc3QgSE9TVCA9IHByb2Nlc3MuZW52LkhPU1Q7XG5jb25zdCBCQVNFUyA9IHByb2Nlc3MuZW52LkJBU0VTO1xuLy8gY29uc3QgQlJPQURDQVNUID0gcHJvY2Vzcy5lbnYuQlJPQURDQVNUXG5jb25zdCBSRUdJU1RSWSA9IHByb2Nlc3MuZW52LlJFR0lTVFJZXG5cbmNvbnN0IHBpbmcgPSBuZXcgUGluZ0xvZ2ljXG5cblxuU2VuZWNhKHtcbiAgbG9nZ2VyOiByZXF1aXJlKCdzZW5lY2EtZGVtby1sb2dnZXInKSxcbiAgZGVidWc6IHsgc2hvcnRfbG9nczogdHJ1ZSB9XG59XG4pXG4gIC8vIC50ZXN0KCdwcmludCcpY2QgXG4gIC51c2UocGluZy5nZXRQaW5nKVxuICAudXNlKCdtcWxpZ2h0LXRyYW5zcG9ydCcsIHt9KVxuICAudXNlKCdtZXNoJywge1xuICAgIGF1dG86IHRydWUsXG4gICAgaG9zdDogSE9TVCxcbiAgICBwaW46ICdyb2xlOnBpbmcsY21kOmRhdGUnLFxuICAgIGJhc2VzOiBbYCR7QkFTRVN9OjM5OTk5YF1cbiAgfSlcbiAgLmxpc3Rlbih7XG4gICAgdHlwZTogJ21xbGlnaHQnLFxuICAgIGhvc3Q6IEhPU1RcbiAgfSlcbiAgLnJlYWR5KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgUGluZyBzZXJ2aWNlIHJlYWR5ISEhIElQOiAke0hPU1R9YClcbiAgfSlcbiJdfQ==