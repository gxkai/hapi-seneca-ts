"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Seneca = require("seneca");
var ping_logic_1 = require("./logic/ping.logic");
var HOST = process.env.HOST;
var BASES = process.env.BASES;
// const BROADCAST = process.env.BROADCAST
var REGISTRY = process.env.REGISTRY;
var ping = new ping_logic_1.PingLogic;
Seneca({
    logger: require('seneca-demo-logger'),
    debug: { short_logs: true }
})
    .use(ping.getPing)
    .use('mesh', {
    auto: true,
    host: HOST,
    pin: 'role:ping,cmd:date',
    bases: [BASES + ":39999"]
})
    .listen({
    type: 'http',
    host: HOST
})
    .ready(function () {
    console.log("Ping service ready!!! IP: " + HOST);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL3Bpbmctc2VydmljZS9zZXJ2aWNlLnRzIiwic291cmNlcyI6WyIvaG9tZS9tYXN0ZXIvRG9jdW1lbnRzL0hhcGkvaGFwaS1zZW5lY2EtdHMvcGluZy1zZXJ2aWNlL3NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBaUM7QUFDakMsaURBQStDO0FBRS9DLElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQzlCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO0FBQ2hDLDBDQUEwQztBQUMxQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQTtBQUVyQyxJQUFNLElBQUksR0FBRyxJQUFJLHNCQUFTLENBQUE7QUFHMUIsTUFBTSxDQUFDO0lBQ0wsTUFBTSxFQUFFLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztJQUNyQyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFO0NBQzVCLENBQ0E7S0FFRSxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztLQUNqQixHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ1gsSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUUsSUFBSTtJQUNWLEdBQUcsRUFBRSxvQkFBb0I7SUFDekIsS0FBSyxFQUFFLENBQUksS0FBSyxXQUFRLENBQUM7Q0FDMUIsQ0FBQztLQUNELE1BQU0sQ0FBQztJQUNOLElBQUksRUFBRSxNQUFNO0lBQ1osSUFBSSxFQUFFLElBQUk7Q0FDWCxDQUFDO0tBQ0QsS0FBSyxDQUFDO0lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBNkIsSUFBTSxDQUFDLENBQUE7QUFDbEQsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBTZW5lY2EgZnJvbSAnc2VuZWNhJztcbmltcG9ydCB7IFBpbmdMb2dpYyB9IGZyb20gJy4vbG9naWMvcGluZy5sb2dpYyc7XG5cbmNvbnN0IEhPU1QgPSBwcm9jZXNzLmVudi5IT1NUO1xuY29uc3QgQkFTRVMgPSBwcm9jZXNzLmVudi5CQVNFUztcbi8vIGNvbnN0IEJST0FEQ0FTVCA9IHByb2Nlc3MuZW52LkJST0FEQ0FTVFxuY29uc3QgUkVHSVNUUlkgPSBwcm9jZXNzLmVudi5SRUdJU1RSWVxuXG5jb25zdCBwaW5nID0gbmV3IFBpbmdMb2dpY1xuXG5cblNlbmVjYSh7XG4gIGxvZ2dlcjogcmVxdWlyZSgnc2VuZWNhLWRlbW8tbG9nZ2VyJyksXG4gIGRlYnVnOiB7IHNob3J0X2xvZ3M6IHRydWUgfVxufVxuKVxuICAvLyAudGVzdCgncHJpbnQnKWNkIFxuICAudXNlKHBpbmcuZ2V0UGluZylcbiAgLnVzZSgnbWVzaCcsIHtcbiAgICBhdXRvOiB0cnVlLFxuICAgIGhvc3Q6IEhPU1QsXG4gICAgcGluOiAncm9sZTpwaW5nLGNtZDpkYXRlJyxcbiAgICBiYXNlczogW2Ake0JBU0VTfTozOTk5OWBdXG4gIH0pXG4gIC5saXN0ZW4oe1xuICAgIHR5cGU6ICdodHRwJyxcbiAgICBob3N0OiBIT1NUXG4gIH0pXG4gIC5yZWFkeSgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYFBpbmcgc2VydmljZSByZWFkeSEhISBJUDogJHtIT1NUfWApXG4gIH0pXG4iXX0=