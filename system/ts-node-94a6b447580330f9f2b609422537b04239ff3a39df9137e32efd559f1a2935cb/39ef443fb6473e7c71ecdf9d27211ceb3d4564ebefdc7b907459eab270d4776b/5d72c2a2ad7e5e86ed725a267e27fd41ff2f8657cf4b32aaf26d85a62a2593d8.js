"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Seneca = require("seneca");
var ping_logic_1 = require("./logic/ping.logic");
var HOST = process.env.HOST;
var BASES = process.env.BASES;
// const BROADCAST = process.env.BROADCAST
var REGISTRY = process.env.REGISTRY;
var ping = new ping_logic_1.PingLogic;
Seneca({
    logger: require('seneca-demo-logger'),
    debug: { short_logs: true }
})
    .use(ping.getPing)
    .use('mesh', {
    auto: true,
    host: HOST,
    pin: 'role:ping,cmd:date',
    bases: [BASES + ":39999"]
})
    .listen({
    type: 'http',
})
    .ready(function () {
    console.log("Ping service ready!!! IP: " + HOST);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL3Bpbmctc2VydmljZS9zZXJ2aWNlLnRzIiwic291cmNlcyI6WyIvaG9tZS9tYXN0ZXIvRG9jdW1lbnRzL0hhcGkvaGFwaS1zZW5lY2EtdHMvcGluZy1zZXJ2aWNlL3NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBaUM7QUFDakMsaURBQStDO0FBRS9DLElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQzlCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO0FBQ2hDLDBDQUEwQztBQUMxQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQTtBQUVyQyxJQUFNLElBQUksR0FBRyxJQUFJLHNCQUFTLENBQUE7QUFHMUIsTUFBTSxDQUFDO0lBQ0wsTUFBTSxFQUFFLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztJQUNyQyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFO0NBQzVCLENBQ0E7S0FFRSxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztLQUNqQixHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ1gsSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUUsSUFBSTtJQUNWLEdBQUcsRUFBRSxvQkFBb0I7SUFDekIsS0FBSyxFQUFFLENBQUksS0FBSyxXQUFRLENBQUM7Q0FDMUIsQ0FBQztLQUNELE1BQU0sQ0FBQztJQUNOLElBQUksRUFBRSxNQUFNO0NBRWIsQ0FBQztLQUNELEtBQUssQ0FBQztJQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQTZCLElBQU0sQ0FBQyxDQUFBO0FBQ2xELENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgU2VuZWNhIGZyb20gJ3NlbmVjYSc7XG5pbXBvcnQgeyBQaW5nTG9naWMgfSBmcm9tICcuL2xvZ2ljL3BpbmcubG9naWMnO1xuXG5jb25zdCBIT1NUID0gcHJvY2Vzcy5lbnYuSE9TVDtcbmNvbnN0IEJBU0VTID0gcHJvY2Vzcy5lbnYuQkFTRVM7XG4vLyBjb25zdCBCUk9BRENBU1QgPSBwcm9jZXNzLmVudi5CUk9BRENBU1RcbmNvbnN0IFJFR0lTVFJZID0gcHJvY2Vzcy5lbnYuUkVHSVNUUllcblxuY29uc3QgcGluZyA9IG5ldyBQaW5nTG9naWNcblxuXG5TZW5lY2Eoe1xuICBsb2dnZXI6IHJlcXVpcmUoJ3NlbmVjYS1kZW1vLWxvZ2dlcicpLFxuICBkZWJ1ZzogeyBzaG9ydF9sb2dzOiB0cnVlIH1cbn1cbilcbiAgLy8gLnRlc3QoJ3ByaW50JyljZCBcbiAgLnVzZShwaW5nLmdldFBpbmcpXG4gIC51c2UoJ21lc2gnLCB7XG4gICAgYXV0bzogdHJ1ZSxcbiAgICBob3N0OiBIT1NULFxuICAgIHBpbjogJ3JvbGU6cGluZyxjbWQ6ZGF0ZScsXG4gICAgYmFzZXM6IFtgJHtCQVNFU306Mzk5OTlgXVxuICB9KVxuICAubGlzdGVuKHtcbiAgICB0eXBlOiAnaHR0cCcsXG4gICAgXG4gIH0pXG4gIC5yZWFkeSgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYFBpbmcgc2VydmljZSByZWFkeSEhISBJUDogJHtIT1NUfWApXG4gIH0pXG4iXX0=