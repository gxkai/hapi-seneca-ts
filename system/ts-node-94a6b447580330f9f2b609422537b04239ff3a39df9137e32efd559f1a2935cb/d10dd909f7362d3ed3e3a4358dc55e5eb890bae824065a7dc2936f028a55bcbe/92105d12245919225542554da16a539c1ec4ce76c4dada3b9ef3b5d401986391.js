"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Seneca = require("seneca");
var HOST = process.env.HOST;
// const BROADCAST = process.env.BROADCAST;
var REGISTRY = process.env.REGISTRY;
Seneca()
    .use('consul-registry', {
    host: "" + REGISTRY,
    port: "8500"
})
    .use('mesh', {
    isbase: true,
    host: HOST,
    pin: 'role:mesh',
    discover: {
        // multicast: {
        //   address: BROADCAST
        // },
        // registry: {
        //   host: '127.0.0.1',
        //   port: "39999"
        // }
        registry: {
            active: true
        }
    },
    dumpnet: false,
    sneeze: {
        silent: true,
        swim: { interval: 1111 }
    }
})
    .ready(function () {
    console.log("Bases ready!!!");
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL2Jhc2VzLXNlcnZpY2Uvc2VydmljZS50cyIsInNvdXJjZXMiOlsiL2hvbWUvbWFzdGVyL0RvY3VtZW50cy9IYXBpL2hhcGktc2VuZWNhLXRzL2Jhc2VzLXNlcnZpY2Uvc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUFpQztBQUVqQyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUM5QiwyQ0FBMkM7QUFDM0MsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7QUFFdEMsTUFBTSxFQUFFO0tBRUwsR0FBRyxDQUFDLGlCQUFpQixFQUFFO0lBQ3RCLElBQUksRUFBRSxLQUFHLFFBQVU7SUFDbkIsSUFBSSxFQUFFLE1BQU07Q0FDYixDQUFDO0tBQ0QsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUNYLE1BQU0sRUFBRSxJQUFJO0lBQ1osSUFBSSxFQUFFLElBQUk7SUFDVixHQUFHLEVBQUUsV0FBVztJQUNoQixRQUFRLEVBQUU7UUFDUixlQUFlO1FBQ2YsdUJBQXVCO1FBQ3ZCLEtBQUs7UUFDTCxjQUFjO1FBQ2QsdUJBQXVCO1FBQ3ZCLGtCQUFrQjtRQUNsQixJQUFJO1FBQ0osUUFBUSxFQUFFO1lBQ1IsTUFBTSxFQUFFLElBQUk7U0FDYjtLQUNGO0lBQ0QsT0FBTyxFQUFFLEtBQUs7SUFDZCxNQUFNLEVBQUU7UUFDTixNQUFNLEVBQUUsSUFBSTtRQUNaLElBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7S0FDekI7Q0FDRixDQUFDO0tBQ0QsS0FBSyxDQUFDO0lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0FBQy9CLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgU2VuZWNhIGZyb20gJ3NlbmVjYSc7XG5cbmNvbnN0IEhPU1QgPSBwcm9jZXNzLmVudi5IT1NUO1xuLy8gY29uc3QgQlJPQURDQVNUID0gcHJvY2Vzcy5lbnYuQlJPQURDQVNUO1xuY29uc3QgUkVHSVNUUlkgPSBwcm9jZXNzLmVudi5SRUdJU1RSWTtcblxuU2VuZWNhKClcbiAgLy8gLnRlc3QoJ3ByaW50JylcbiAgLnVzZSgnY29uc3VsLXJlZ2lzdHJ5Jywge1xuICAgIGhvc3Q6IGAke1JFR0lTVFJZfWAsXG4gICAgcG9ydDogXCI4NTAwXCJcbiAgfSlcbiAgLnVzZSgnbWVzaCcsIHtcbiAgICBpc2Jhc2U6IHRydWUsXG4gICAgaG9zdDogSE9TVCxcbiAgICBwaW46ICdyb2xlOm1lc2gnLFxuICAgIGRpc2NvdmVyOiB7XG4gICAgICAvLyBtdWx0aWNhc3Q6IHtcbiAgICAgIC8vICAgYWRkcmVzczogQlJPQURDQVNUXG4gICAgICAvLyB9LFxuICAgICAgLy8gcmVnaXN0cnk6IHtcbiAgICAgIC8vICAgaG9zdDogJzEyNy4wLjAuMScsXG4gICAgICAvLyAgIHBvcnQ6IFwiMzk5OTlcIlxuICAgICAgLy8gfVxuICAgICAgcmVnaXN0cnk6IHtcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBkdW1wbmV0OiBmYWxzZSxcbiAgICBzbmVlemU6IHtcbiAgICAgIHNpbGVudDogdHJ1ZSxcbiAgICAgIHN3aW06IHsgaW50ZXJ2YWw6IDExMTEgfVxuICAgIH1cbiAgfSlcbiAgLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcIkJhc2VzIHJlYWR5ISEhXCIpXG4gIH0pIl19